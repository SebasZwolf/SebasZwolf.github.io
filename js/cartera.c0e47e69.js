(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["cartera"],{"0962":function(t,a,o){"use strict";o.r(a);var e=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"home"},[e("img",{attrs:{alt:"Vue logo",src:o("cf05")}}),e("div",[e("ListaPagos",{attrs:{lista_pagos:t.lista_pagos,shown:t.shown},on:{close:function(a){t.lista_pagos=[]}}}),e("BondList",{attrs:{forview:!0,bonos:t.$store.state.cartera_bonos},on:{compare:function(a){return t.bondlistAction(0,a)},delete:function(a){return t.bondlistAction(1,a)},view:function(a){return t.inspect(a)}}})],1)])},n=[],s=(o("159b"),o("ac1f"),o("5319"),o("9dc0")),r=o("ce24"),i=function(){var t=this,a=t.$createElement,o=t._self._c||a;return o("div",{staticClass:"bordered",class:{active:t.shown}},[o("div",{staticStyle:{"background-color":"#888",color:"#eff",padding:"2px 1rem","text-align":"right","box-shadow":"inset 0px -2px 4px 0px #0024"}},[o("a",{staticClass:"close",attrs:{href:"#"},on:{click:function(a){return t.$emit("close")}}},[o("i",{staticClass:"fa fa-times"})])]),o("div",{staticStyle:{overflow:"auto",flex:"1"}},t._l(t.lista_pagos,(function(a,e){return o("div",{key:e,staticClass:"pago"},[o("div",t._b({},"div",t.date_data=t.getDateData(a.date),!1),[o("span",[t._v(t._s(t.date_data.day_of_week)+" "+t._s(t.date_data.day)+", "+t._s(t.date_data.month)+" "+t._s(t.date_data.year))])]),o("div",[o("span",[t._v(t._s(a.value))])])])})),0)])},c=[],u={name:"ListaPagos",data:function(){return{}},props:{lista_pagos:Array},computed:{shown:function(){return this.lista_pagos.length>0}},methods:{getDateData:function(t){var a=new Date(t),o=["Dom","Lun","Mar","Mie","Jue","Vie","Sab"],e=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Setiembre","Octubre","Noviembre","Diciembre"];return{day_of_week:o[a.getDay()],day:a.getDate(),month:e[a.getMonth()],year:a.getFullYear()}}}},l=u,p=(o("512c"),o("2877")),d=Object(p["a"])(l,i,c,!1,null,null,null),h=d.exports,f={name:"Home",data:function(){return{bono:null,lista_pagos:[],shown:!1}},components:{BondList:r["a"],ListaPagos:h},methods:{bondlistAction:function(t,a){var o=this,e=[];switch(t){case 0:this.$store.dispatch("pre_load"),a.forEach((function(t,a){t&&e.push(o.$store.state.cartera_bonos[a])})),this.$store.state.aux_bonos=e,this.$router.replace("/comparator");break;case 1:this.$store.dispatch("pre_load"),a.forEach((function(t,a){t||e.push(o.$store.state.cartera_bonos[a])})),this.$store.state.aux_cartera=e,this.$store.dispatch("post_bonos");break}},inspect:function(t){this.bono=this.$store.state.cartera_bonos[t],this.lista_pagos=s["a"].BonoPagos(this.bono),console.log(this.lista_pagos)}},mounted:function(){}},g=f,_=Object(p["a"])(g,e,n,!1,null,null,null);a["default"]=_.exports},"2af1":function(t,a,o){var e=o("23e7"),n=o("f748");e({target:"Math",stat:!0},{sign:n})},"2b7a":function(t,a,o){},"512c":function(t,a,o){"use strict";o("2b7a")},"9dc0":function(t,a,o){"use strict";o("2af1");a["a"]={BonoCalculadora:function(t,a,o,e,n,s){a/=100,n/=100,s/=100;for(var r=e*(360/o),i=Math.pow(1+a,o/360)-1,c=Math.pow(1+n,o/360)-1,u=Math.round(t*i*100)/100,l=0,p=[],d=1;d<=r;d++){var h=(d==r?u+t*(1+s):u)/Math.pow(1+c,d);l+=h,p.push(h)}return{VNA:Math.round(100*l)/100,pagos:p,cupon:u}},BonoAnalisis:function(t,a){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,e=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;o/=100,e/=100;var n=a*(1+o+e),s=t.pagos.reduce((function(t,a){return t+a}))-n;return{precio_de_venta:Math.round(100*n)/100,valor_de_venta:t.VNA,VNA:Math.round(100*s)/100}},BonoTIR:function(t){var a;console.log("calculando"),console.log(t);var o=0,e=t.precio_actual,n=.01,s=.5,r=1e-4,i=[];do{o++,a=0,i.length=0;for(var c=0;c<t.cxp;c++)i.push(c!=t.cxp-1?t.cupon:t.cupon+t.valor_nominal*(1+t.prima)),a+=(c!=t.cxp-1?t.cupon:t.cupon+t.valor_nominal*(1+t.prima))/Math.pow(1+n,c+1);var u=n;Math.sign(a-e)>0?r=n:s=n,n=r+.5*(s-r),console.log({oldguess:u,guess:n,result:a,diff:a-e,_va:e})}while(Math.abs(a-e)>5e-4&&o<50);return console.log(i),n},BonoPagos:function(t){var a=new Date(t.date),o=t.frecuencia,e=(t.perido,[]),n=0;switch(console.log(t),o<360?(n=2,o/=30):(n=3,o/=360),n){case 2:for(var s=0;s<t.cxp;s++)e.push({date:new Date(a.getFullYear(),a.getMonth()+o*s,a.getDay()).toDateString(),value:s!=t.cxp-1?t.cupon:t.cupon+t.valor_nominal*(1+t.prima)});break;case 3:for(var r=0;r<t.cxp;r++)e.push({date:new Date(a.getFullYear()+o*r,a.getMonth(),a.getDay()).toDateString(),value:r!=t.cxp-1?t.cupon:t.cupon+t.valor_nominal*(1+t.prima)});break}return e}}},f748:function(t,a){t.exports=Math.sign||function(t){return 0==(t=+t)||t!=t?t:t<0?-1:1}}}]);
//# sourceMappingURL=cartera.c0e47e69.js.map